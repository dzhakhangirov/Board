<!DOCTYPE html><html><head><meta http-equiv="Content-Type"content="text/html; charset=utf-8"/><title>board</title><!--Babylon.js--><script src="https://cdnjs.cloudflare.com/ajax/libs/dat-gui/0.6.2/dat.gui.min.js"></script><script src="https://assets.babylonjs.com/generated/Assets.js"></script><script src="https://cdn.babylonjs.com/recast.js"></script><script src="https://cdn.babylonjs.com/earcut.min.js"></script><script src="https://cdn.babylonjs.com/babylon.js"></script><script src="https://cdn.babylonjs.com/gui/babylon.gui.min.js"></script><style>html,body{overflow:hidden;width:100%;height:100%;margin:0;padding:0;}#renderCanvas{width:100%;height:100%;touch-action:none;}#canvasZone{width:100%;height:100%;}</style></head><body><div id="canvasZone"><canvas id="renderCanvas"></canvas></div><script>textUrl=decodeURIComponent(document.URL);var regex=/=(.+)/;var matches=textUrl.match(regex);if(matches){var match=matches[1];}
else{var match="arguv.com";};var canvas=document.getElementById("renderCanvas");var startRenderLoop=function(engine,canvas){engine.runRenderLoop(function(){if(sceneToRender&&sceneToRender.activeCamera){sceneToRender.render();}});}
var engine=null;var scene=null;var sceneToRender=null;var createDefaultEngine=function(){return new BABYLON.Engine(canvas,true,{preserveDrawingBuffer:true,stencil:true,disableWebGL2Support:false});};var createScene=async function(){var scene=new BABYLON.Scene(engine);scene.clearColor=new BABYLON.Color3(0,0,0);var camera=new BABYLON.ArcRotateCamera("Camera",0,0,10,new BABYLON.Vector3(0,0,0),scene);camera.setPosition(new BABYLON.Vector3(0,0,-200));camera.attachControl(canvas,true);const light=new BABYLON.HemisphericLight("light",new BABYLON.Vector3(0,1,1));let met=0;let sid=0;let on=0;let lightDay=1.5;let lightNight=0.5;light.intensity=lightDay;var wall=BABYLON.MeshBuilder.CreateGround("wall",{width:560,height:80},scene);var pbr=new BABYLON.PBRMetallicRoughnessMaterial("pbr",scene);var pbr1=new BABYLON.PBRMetallicRoughnessMaterial("pbr1",scene);var matinviz=new BABYLON.StandardMaterial("matinviz",scene);matinviz.diffuseTexture=new BABYLON.Texture("texture/invisible.png",scene);matinviz.diffuseTexture.hasAlpha=true;matinviz.transparencyMode=BABYLON.Material.MATERIAL_ALPHATESTANDBLEND;matinviz.useAlphaFromDiffuseTexture=true;var fontData=[0,1,2,3,4,5,6];var fontArrey=["Andika","Boncegro","Bubblez","Tangak","Arial","Pershotravneva","Podarok"];var myText=[];var myTextTop=[];for(let k=0;k<fontData.length;k++){fontData[k]=await(await fetch(`./font/${fontArrey[k]}.json`)).json();myText[k]=BABYLON.MeshBuilder.CreateText(`myText${fontData[k]}`,match,fontData[k],{size:16,resolution:63,depth:5,sideOrientation:2});if(k==0){myText[k].material=pbr;}
else{myText[k].material=matinviz;}}
for(let l=0;l<fontData.length;l++){fontData[l]=await(await fetch(`./font/${fontArrey[l]}.json`)).json();myTextTop[l]=BABYLON.MeshBuilder.CreateText(`myTextTop${fontData[l]}`,match,fontData[l],{size:16,resolution:63,depth:0.01,sideOrientation:2});if(l==0){myTextTop[l].material=pbr1;}
else{myTextTop[l].material=matinviz;}}
var fontCylinderTop=await(await fetch("./font/Arial.json")).json();var myTextCylinder=BABYLON.MeshBuilder.CreateText("myTextCylinder","ARGUV.COM",fontCylinderTop,{size:5,resolution:63,depth:0.01,sideOrientation:2});const outline=[];for(let i=0;i<80;i++){outline.push(new BABYLON.Vector3(20*Math.cos(i*Math.PI/40),0,10*Math.sin(i*Math.PI/40)));}
const cylinder=BABYLON.MeshBuilder.ExtrudePolygon("cylinder",{shape:outline,depth:5});const outline1=[];for(let i=0;i<80;i++){outline1.push(new BABYLON.Vector3(20*Math.cos(i*Math.PI/40),0,10*Math.sin(i*Math.PI/40)));}
const cylinderTop=BABYLON.MeshBuilder.ExtrudePolygon("cylinderTop",{shape:outline1,depth:0.01});cylinder.rotation.x=BABYLON.Tools.ToRadians(-90);cylinderTop.rotation.x=BABYLON.Tools.ToRadians(-90);const bboxText=myText[0].getBoundingInfo().boundingBox;const bbox小ylinder=cylinder.getBoundingInfo().boundingBox;cylinder.position.set(bboxText.maximumWorld.x+30,bbox小ylinder.maximumWorld.y+16/2,bboxText.maximumWorld.z-2.5,);cylinderTop.position.set(bboxText.maximumWorld.x+30,bbox小ylinder.maximumWorld.y+16/2,bboxText.maximumWorld.z-2.5-0.01,);myTextCylinder.position.set(bboxText.maximumWorld.x+30,bbox小ylinder.maximumWorld.y+10/2,bboxText.maximumWorld.z-2.5-0.02,);wall.position=new BABYLON.Vector3(-2.5,8.0,7.0);myText.forEach((item)=>{item.position=new BABYLON.Vector3(0.0,0.0,2.51);});myTextTop.forEach((item,index)=>{item.setParent(myText[index]);});cylinder.setParent(myText[0]);cylinderTop.setParent(cylinder);myTextCylinder.setParent(cylinder);wall.rotation.y=BABYLON.Tools.ToRadians(-45);wall.rotation.x=BABYLON.Tools.ToRadians(-90)
myText.forEach((item)=>{item.rotation.y=BABYLON.Tools.ToRadians(-45);});var wallMat=new BABYLON.StandardMaterial("wallMat",scene);wallMat.diffuseTexture=new BABYLON.Texture("texture/stone.png",scene);wallMat.bumpTexture=new BABYLON.Texture("texture/map.png",scene);wallMat.diffuseTexture.uScale=12;wallMat.diffuseTexture.vScale=4;wallMat.bumpTexture.uScale=12;wallMat.bumpTexture.vScale=4;wall.material=wallMat;let gl=new BABYLON.GlowLayer("glow",scene);gl.intensity=0.0;cylinder.material=pbr;myTextCylinder.material=pbr;cylinderTop.material=pbr1;pbr.baseColor=new BABYLON.Color3(0.97,0.64,0.03);pbr.metallic=0.5;pbr.roughness=0.3;pbr.environmentTexture=BABYLON.CubeTexture.CreateFromPrefilteredData("texture/environment.dds",scene);pbr1.baseColor=new BABYLON.Color3(0.97,0.64,0.03);pbr1.metallic=0.5;pbr1.roughness=0.5;pbr1.environmentTexture=BABYLON.CubeTexture.CreateFromPrefilteredData("texture/environment.dds",scene);pbr1.emissiveColor=new BABYLON.Color3(0,0,0);let advancedTexture=BABYLON.GUI.AdvancedDynamicTexture.CreateFullscreenUI("GUI",true,scene);let loadedGUI=await advancedTexture.parseFromURLAsync("assets/guiTexture.json");let button1=advancedTexture.getControlByName("Button1");let slider1=advancedTexture.getControlByName("Slider1");let slider2=advancedTexture.getControlByName("Slider2");let matPicker1=advancedTexture.getControlByName("ColorPicker1");let matPicker2=advancedTexture.getControlByName("ColorPicker2");let inputText1=advancedTexture.getControlByName("InputText1");let inputText2=advancedTexture.getControlByName("InputText2");let checkbox1=advancedTexture.getControlByName("Checkbox1");let checkbox2=advancedTexture.getControlByName("Checkbox2");let checkbox3=advancedTexture.getControlByName("Checkbox3");let button2=advancedTexture.getControlByName("Button2");let button3=advancedTexture.getControlByName("Button3");let rectangle=advancedTexture.getControlByName("Rectangle");inputText1.onBeforeKeyAddObservable.add(input=>{let insert=String(input.text);if(insert.length>10){input.addKey=false};if(insert.length<11){input.addKey=true};if(insert.length>12){input.text="";};console.log(insert.length);});let sendingText="arguv.com";inputText1.onTextChangedObservable.add(y=>{let sInput=y.text;sendingText=y.text;console.log(sInput);});button1.onPointerUpObservable.add(function(){window.open(location.assign(encodeURI("?sendingText="+sendingText)),"_self");});slider1.onValueChangedObservable.add(function(value){n=Math.ceil(value);for(let m=0;m<myText.length;m++){myText[n].material=pbr;myTextTop[n].material=pbr1;if(m!==n){myText[m].material=matinviz;}
if(m!==n){myTextTop[m].material=matinviz;}}});slider2.onValueChangedObservable.add(function(value){n=value/5;myText.forEach((item)=>{item.scaling.setAll(n);});});inputText2.onBeforeKeyAddObservable.add((input)=>{let key=input.currentKey;if(key<"0"||key>"9"){intput.addKey=false;}
console.log(key.length);});inputText2.onTextChangedObservable.add(e=>{var sInput=parseInt(e.text)/5;myText.forEach((item)=>{item.scaling.setAll(sInput);});});let shining=new BABYLON.Color3(1,1,1);matPicker1.onValueChangedObservable.add(function(value1){pbr1.baseColor=value1;if(sid==1){pbr1.emissiveColor=value1;shining=pbr1.emissiveColor;}});matPicker2.onValueChangedObservable.add(function(value2){pbr.baseColor=value2;});checkbox1.onIsCheckedChangedObservable.add(function(value3){if(on==0){on=1;light.intensity=lightNight;}
else if(on==1){on=0;light.intensity=lightDay;};console.log(on);});checkbox2.onIsCheckedChangedObservable.add(function(value4){pbr.baseColor=new BABYLON.Color3(value4);pbr.environmentTexture=BABYLON.CubeTexture.CreateFromPrefilteredData("texture/environment.dds",scene);if(met==0){met=1;pbr.metallic=0.9;pbr.roughness=0.1;}
else if(met==1){met=0;pbr.metallic=0.5;pbr.roughness=0.3;};console.log(met);});checkbox3.onIsCheckedChangedObservable.add(function(value5){if(sid==0){sid=1;gl.intensity=0.5;pbr1.emissiveColor=shining;}
else if(sid==1){sid=0;gl.intensity=0.0;cylinder.material=pbr;myTextCylinder.material=pbr;};console.log(sid);});scene.registerBeforeRender(()=>{});engine.runRenderLoop(()=>scene.render());return scene;};window.initFunction=async function(){var asyncEngineCreation=async function(){try{return createDefaultEngine();}catch(e){console.log("the available createEngine function failed. Creating the default engine instead");return createDefaultEngine();}}
window.engine=await asyncEngineCreation();if(!engine)throw'engine should not be null.';startRenderLoop(engine,canvas);window.scene=createScene();};initFunction().then(()=>{scene.then(returnedScene=>{sceneToRender=returnedScene;});});window.addEventListener("resize",function(){engine.resize();});</script></body></html>
